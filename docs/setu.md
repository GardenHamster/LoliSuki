## 简介

因为一直很想找到一个符合自己 xp 的色图 api，所以干脆动手给自己写了一个。(滑稽)

大部分图片主要以萝莉，少女，可爱风格为主，偶尔会出现一些巨乳或者御姐类的作品，但并不会包含如 ~~R18G~~ 或者 ~~男の娘~~ 等超出作者 XP 范围外的图

参考了 [神代綺凛 的 Lolicon Api](https://api.lolicon.app) 的参数和返回格式，增加了 level 参数，用于区别图片的社保程度

?> 本 API 仅储存了作品的基本信息，并不提供图片的代理或储存服务。

!> 所有图片均来自 Pixiv，图片版权归其创作者所。

!> 使用本 Api 是你个人的自愿行为，使用本 api 所造成的一切风险和不良后果均与本人无关

## 请求

```http
GET https://lolisuki.cc/api/setu/v1
```

```http
POST https://lolisuki.cc/api/setu/v1
Content-Type: application/json
```

## 参数

| 参数名  |  数据类型  |    默认值    | 说明                                                                         |
| ------- | :--------: | :----------: | ---------------------------------------------------------------------------- |
| `r18`   |   `int`    |     `0`      | 作品是否包含 R-18 标签，`0`为不包含，`1`为只包含 R18，`2`为包括 R18 和非 R18 |
| `num`   |   `int`    |     `1`      | 返回色图的数量，范围为 1~5                                                   |
| `uid`   |  `int[]`   |              | 指定画师 id                                                                  |
| `tag`   | `string[]` |              | 指定作品标签，[详见下文](#tag)                                               |
| `proxy` |  `string`  | `i.pixiv.re` | 图片代理服务                                                                 |
| `level` |  `string`  |    `0-3`     | 图片的社保程度，范围为 0~6,[详见下文](#level)                                |
| `full`  |   `int`    |     `0`      | 匹配 Tag 的方式，`0`为部分一致，`1`为完全一致                                |

## tag

Get 方式请求时，Tag 参数可以通过`&`符号连接多个。Tag 之间用`|`符号隔开时，代表只需要匹配其中任意一个

例如想要查找（萝莉或者少女) 并且带有 (白丝或者黑丝) 的色图可以这样发送请求

```http
Get https://lolisuki.cc/api/setu/v1?tag=萝莉|少女&tag=白丝|黑丝
```

```http
Post https://lolisuki.cc/api/setu/v1
Content-Type: application/json
{
  "tag": [
    "萝莉|少女",
    "白丝|黑丝"
  ]
}
```

## level

这是一个根据个人 xp 整理出来的参数，仅代表我个人认为一张色图的社保程度

- 0：除了好看以外没什么特别之处
- 1：好看，也有点涩
- 2：涩
- 3：很涩
- 4：非常涩但是还不属于 R-18
- 5：R18
- 6：R18+有氧模式

假如想要查询 level0-level6 的作品，参数值可以填`0-6`

假如只想查询 level3 的作品，参数值可以填`3`

## 响应

| 参数名  | 数据类型 | 说明                              |
| ------- | :------: | --------------------------------- |
| `code`  |  `int`   | 状态码，`0`表示成功，其他均为失败 |
| `error` | `string` | 错误信息                          |
| `data`  | `setu[]` | 色图数组，[详见下文](#setu)       |

### setu

| 字段名        |  数据类型  | 说明                                               |
| ------------- | :--------: | -------------------------------------------------- |
| `pid`         |   `int`    | 作品 pid                                           |
| `p`           |   `int`    | 作品所在页                                         |
| `total`       |   `int`    | 作品包含的图片数量                                 |
| `uid`         |   `int`    | 作者 uid                                           |
| `author`      |  `string`  | 作者名称                                           |
| `level`       |   `int`    | 社保级别，[详见 level 说明](#level)                |
| `title`       |  `string`  | 作品标题                                           |
| `description` |  `string`  | 作品描述                                           |
| `r18`         | `boolean`  | 是否包含 R-18 标签                                 |
| `gif`         | `boolean`  | 是否动图，即包含动图标签                           |
| `original`    | `boolean`  | 是否原图，pixiv 作品中返回的一个标识               |
| `width`       |   `int`    | 原图宽度 px                                        |
| `height`      |   `int`    | 原图高度 px                                        |
| `ext`         |  `string`  | 图片扩展名                                         |
| `uploadDate`  |   `int`    | 作品上传日期；时间戳，单位为毫秒                   |
| `urls`        |  `object`  | 包含了 4 种尺寸的图片地址                          |
| `tags`        | `string[]` | 作品标签，包含标签的中文翻译（有的话）             |
| `extags`      | `string[]` | 扩展标签，指本人额外添加的标签（如果有空添加的话） |

## 目前已有数据

<div id="charts">
   <ve-line :data="chartData"></ve-line>
</div>

<script>
new Vue({
      el: '#charts',
      data: function () {
        return {
          chartData: {
            columns: ['日期', '销售额'],
            rows: [
              { '日期': '1月1日', '销售额': 123 },
              { '日期': '1月2日', '销售额': 1223 },
              { '日期': '1月3日', '销售额': 2123 },
              { '日期': '1月4日', '销售额': 4123 },
              { '日期': '1月5日', '销售额': 3123 },
              { '日期': '1月6日', '销售额': 7123 }
            ]
          }
        }
      },
      components: { VeLine }
    })
</script>
